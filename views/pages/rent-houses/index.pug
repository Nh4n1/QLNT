extends ../../layouts/default.pug
include ../../mixins/alert.pug
block main 
  .container-fluid.my-5
    +alert-success(3000)
    +alert-error(3000)
    
    .header-section.mb-4
      .d-flex.justify-content-between.align-items-center
        h1.page-title Danh sách nhà trọ
        button.btn.btn-success.rent-house-add-btn(type='button')
          i.fas.fa-plus.me-2
          | Tạo mới nhà trọ
    
    .houses-grid
      if houses.length > 0
        each house in houses
          .house-card
            .house-card-header
              .house-card-title= house.TenNha
              .house-card-address
                i.fas.fa-map-marker-alt.me-2.mr-10
                = house.DiaChi
            
            .house-card-stats
              .stat-item
                .stat-label Tổng phòng
                .stat-number= house.totalRooms
              .stat-item
                .stat-label Phòng trống
                .stat-number.available= house.availableRooms
              .stat-item
                .stat-label Đã thuê
                .stat-number.rented= house.rentedRooms
            
            .house-card-footer
              button.btn.btn-outline-primary.btn-sm(type='button')
                i.fas.fa-eye.me-1
                | Chi tiết
              button.btn.btn-outline-danger.btn-sm(type='button')
                i.fas.fa-edit.me-1
                | Sửa
      else
        .empty-state
          i.fas.fa-building
          p Không có nhà trọ nào

  // Modal Form Tạo mới nhà trọ
  .modal.fade#rentHouseModal(tabindex='-1', role='dialog', aria-labelledby='rentHouseModalLabel', aria-hidden='true')
    .modal-dialog(role='document')
      .modal-content
        .modal-header
          h5.modal-title#rentHouseModalLabel Tạo mới nhà trọ
          button.close(type='button', data-dismiss='modal', aria-label='Close')
            span(aria-hidden='true') ×
        .modal-body
          form#rentHouseForm(action='/rent-houses', method='POST')
            .form-group
              label(for='tenNha') Tên nhà trọ
              input#tenNha.form-control(type='text', name='TenNha', placeholder='Nhập tên nhà trọ', required)
            .form-group
              label(for='diaChi') Địa chỉ
              input#diaChi.form-control(type='text', name='DiaChi', placeholder='Nhập địa chỉ', required)
        .modal-footer
          button.btn.btn-secondary(type='button', data-dismiss='modal') Hủy
          button#btnSave.btn.btn-primary(type='button') Lưu lại